<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Miniature 3,456x LED Cube | Greg Davill's Projects</title>
<meta name=keywords content><meta name=description content="
    
  

Background
Having seen a few projects creating LED cubes from panels used for LED video-walls I knew I had to try to build one myself. If you haven’t seen these before here are some examples I’ve seen. along with some notable people involved in their creation: @zzaurak, @1HappyTeddybear, @esden, @kernlbob.
These cubes are all built using COTS video wall panels. The mains ones I’ve seen used are in the 64x64 pixel size and either 2.5mm (P2.5) or 2mm (P2) pixel pitch. These panels feature a low cost multiplexing system on the back of the PCB, and a dense array of LEDs on the front. Surprisingly these panels are made surprisingly cheap, with panels from China costing $20-$40 range, which for 4096 RGB LEDs is very cheap!"><meta name=author content><link rel=canonical href=https://gregdavill.com/posts/mini-led-cube/><link crossorigin=anonymous href=/assets/css/stylesheet.04f923ef139fd26f3f610e33d5547e96e9376d76dd088ad535ded906e3591395.css integrity="sha256-BPkj7xOf0m8/YQ4z1VR+luk3bXbdCIrVNd7ZBuNZE5U=" rel="preload stylesheet" as=style><link rel=icon href=https://gregdavill.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://gregdavill.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://gregdavill.com/favicon-32x32.png><link rel=apple-touch-icon href=https://gregdavill.com/apple-touch-icon.png><link rel=mask-icon href=https://gregdavill.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://gregdavill.com/posts/mini-led-cube/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Miniature 3,456x LED Cube"><meta property="og:description" content="
    
  

Background
Having seen a few projects creating LED cubes from panels used for LED video-walls I knew I had to try to build one myself. If you haven’t seen these before here are some examples I’ve seen. along with some notable people involved in their creation: @zzaurak, @1HappyTeddybear, @esden, @kernlbob.
These cubes are all built using COTS video wall panels. The mains ones I’ve seen used are in the 64x64 pixel size and either 2.5mm (P2.5) or 2mm (P2) pixel pitch. These panels feature a low cost multiplexing system on the back of the PCB, and a dense array of LEDs on the front. Surprisingly these panels are made surprisingly cheap, with panels from China costing $20-$40 range, which for 4096 RGB LEDs is very cheap!"><meta property="og:type" content="article"><meta property="og:url" content="https://gregdavill.com/posts/mini-led-cube/"><meta property="og:image" content="https://gregdavill.com/posts/mini-led-cube/images/001.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-06-13T21:00:00+10:30"><meta property="article:modified_time" content="2020-06-13T21:00:00+10:30"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://gregdavill.com/posts/mini-led-cube/images/001.jpg"><meta name=twitter:title content="Miniature 3,456x LED Cube"><meta name=twitter:description content="
    
  

Background
Having seen a few projects creating LED cubes from panels used for LED video-walls I knew I had to try to build one myself. If you haven’t seen these before here are some examples I’ve seen. along with some notable people involved in their creation: @zzaurak, @1HappyTeddybear, @esden, @kernlbob.
These cubes are all built using COTS video wall panels. The mains ones I’ve seen used are in the 64x64 pixel size and either 2.5mm (P2.5) or 2mm (P2) pixel pitch. These panels feature a low cost multiplexing system on the back of the PCB, and a dense array of LEDs on the front. Surprisingly these panels are made surprisingly cheap, with panels from China costing $20-$40 range, which for 4096 RGB LEDs is very cheap!"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://gregdavill.com/posts/"},{"@type":"ListItem","position":2,"name":"Miniature 3,456x LED Cube","item":"https://gregdavill.com/posts/mini-led-cube/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Miniature 3,456x LED Cube","name":"Miniature 3,456x LED Cube","description":" Background Having seen a few projects creating LED cubes from panels used for LED video-walls I knew I had to try to build one myself. If you haven’t seen these before here are some examples I’ve seen. along with some notable people involved in their creation: @zzaurak, @1HappyTeddybear, @esden, @kernlbob.\nThese cubes are all built using COTS video wall panels. The mains ones I’ve seen used are in the 64x64 pixel size and either 2.5mm (P2.5) or 2mm (P2) pixel pitch. These panels feature a low cost multiplexing system on the back of the PCB, and a dense array of LEDs on the front. Surprisingly these panels are made surprisingly cheap, with panels from China costing $20-$40 range, which for 4096 RGB LEDs is very cheap!\n","keywords":[],"articleBody":" Background Having seen a few projects creating LED cubes from panels used for LED video-walls I knew I had to try to build one myself. If you haven’t seen these before here are some examples I’ve seen. along with some notable people involved in their creation: @zzaurak, @1HappyTeddybear, @esden, @kernlbob.\nThese cubes are all built using COTS video wall panels. The mains ones I’ve seen used are in the 64x64 pixel size and either 2.5mm (P2.5) or 2mm (P2) pixel pitch. These panels feature a low cost multiplexing system on the back of the PCB, and a dense array of LEDs on the front. Surprisingly these panels are made surprisingly cheap, with panels from China costing $20-$40 range, which for 4096 RGB LEDs is very cheap!\nOf course I had to buy some of these panels to play around with.\nThese panels typically arranged as a top half and bottom half. The multiplexing arrangements means there is 2 lines lit at any one instant. And they feature a control interface known as HUB75. This interface consists of the following collections of signals:\n1x 5bit bus that is used as a 1 to 32 decoder this activates a single row.\n3x 2bit shift register inputs with common latch and blank signals, that is used to control data output to the column. There is one input for each colour [R,G,B] and then for the top/bottom of the display.\nThese panels are multiplexed, meaning that only a single line of data is displayed at a time. To further reduce hardware costs the driver circuitry can only turn each pixel on/off. No grey-scale control in the drivers. Because of this, in order to display an image over the entire screen we need to constantly update data on the panel line by line, and rely on an effect called persistence of vision for our brain to blend these scanning lines into a solid image. In order to display greyscale values we apply a second level of modulation on top of the traditional line scanning. This modulation know as Binary Coded Modulation, or BCM, allocates time slices doubling in length to each bit in our greyscale pixel values for R,G,B. Mike Harrision has made a very detailed and informative video on this topic: https://www.youtube.com/watch?v=6iHTbGsnI8Q\nFor all my experiments I’ve used the icebreaker FPGA board: https://github.com/icebreaker-fpga/icebreaker And RGB panel code that implements a frame buffer and the multiplexing+BCM from @tnt: https://github.com/smunaut/ice40-playground/tree/master/projects/rgb_panel\nWith some P2.5 panels in hand I poked around with the idea of making one of these full sized cubes\nI wasn’t super pleased with the overall size of this, it was simply too big. But how could we make it any smaller? Sure the P2 panels are a bit smaller, but still make a cube in the 120mm³ size. To make one smaller would require designing and manufacturing a smaller LED panel…\nDesigning a smaller LED panel So that is basically what I did. It turns out you can buy the LED used on these panels for very cheap from LCSC at around 2c per LED when you’re buying them in the 2000+ qty. (Full reels are 13,000 LEDs. and you can probably get them down to around 1c when buying multiple reels from Alibaba, or direct in Chinese markets) Additionally the shift registers used in the multiplexing control electronics are also very low cost. There is already some very useful information and documentation about existing LED panel designs: https://github.com/esden/led-panel-docs\nWith a schematic of one of these larger panels in hand, I created a schematic for my own smaller 24x24 panel. The actual architectural design of this panel is a bit awkward, since there are 2 shift register chains for rows and columns, one 32bits in length, the other is only 24bits. That is handled in gateware, but is a bit awkward.\nI tried to make use of hierarchical sheets in KiCad to ensure that the design remained somewhat reasonable. I think I managed a reasonable job, but there are still a lot of global labels around. It’s not easy neatly creating a schematic connection 576 LEDs.\nPCB layout was actually not too tricky and I even had a little fun with some artwork on the back.(Which you never see when it is fully assembled.)\nTo ease routing I went with a 4 layer design. Every LED on the top has signals routed through for all the common R,G,B signals, these are for the columns and run downwards. Every LED has a common connection which requires a via and connection on layer 2 connection every row together. Because we want to use a cheap PCB manufacturer, and avoid micro/blind vias, we need to arrange the routing on the top layer to give room for an additional via next to every LED, we’ll use this to route signals from our controllers to the matrix, and also route signals required for the controllers around on layers 3-4.\nIt was quite an interesting routing challenge, but with some careful planning and heavy use of the array tool it’s not too difficult.\nOne thing that was essential was scripting in Kicad to move every led into its correct matrix position. This was achieved using the internal pythin scripting in KiCad and the following script: https://github.com/gregdavill/GlassUnicorn/blob/master/ref/led_32x32_array_place.py\n# To run, open the KiCad scripting console and type: exec(open('../../ref/led_32x32_array_place.py').read()) # # This script will re-position D[1-1024] into a matrix filling the specified width and height, at the location provided below. # After running you will have to press F11/F12 to force the screen to re-render. import sys from pcbnew import * pcb = GetBoard() initialX = FromMM(120.75) initialY = FromMM(70.75) width = FromMM(61) height = FromMM(61) padding = FromMM(1.1) count = 32 spacingX = (width - (padding*2)) / (count - 1) spacingY = (height - (padding*2)) / (count - 1) print(f'Spacing X,Y = ') nCount = 1 print('Start Place') for y in range(count): for x in range(count): Ref = f'D' nCount = nCount + 1 #print(Ref) try: nPart = pcb.FindModuleByReference(Ref) nPart.SetPosition(wxPoint(initialX + padding + (x*spacingX), (initialY + padding + y*spacingY))) # Update XY except: pass print('Finished Place') Assembly (Hand placing thousands of LEDs) I had JLC sponsor the panel PCBs used in this project. So check them out if you’re after prototype PCB. I got the boards made in matte black with ENIG. Black PCBs really help on the LED side to hide the gaps between the pixels. ENIG provides a flat solderable plating to the pads making solderpaste and reflow soldering a little bit easier compared to HASL plating which sometimes results in SMD pads having a small ‘pillow’ of solder. Also in my opinion ENIG alss just looks better.\nI used a stainless steel stencil and solderpaste on these boards. I didn’t want to subject the LEDs to 2 reflow cycles so I applied solderpaste and placed the controller side components first and reflowed it in my toaster oven. Then applied paste to the LED side and placed all 576 LEDs per panel. 6 in total, for 3,456 LEDs hand placed. For those interested each panel took around 2 hours to place the LEDs. I used a simple vacuum pickup tool I built for moving the LEDs from their tape into position. Having a good audio book helped here!\nWith panels designed and assembled I just need a controller and an enclosure to complete the LED Cube\nEnclosure Design I decided I wanted to design a frame for this cube that would be made from CNC aluminium. I knew straight off the bat that my FDM printer would not be up this task, the parts will need to be very detailed and reasonably tight tolerances, and simply not suited to FDM 3d printing. After some time in Fusion 360 I had this basic design.\nThis design has the nice property that 6 identical pieces will fit together to create a full cube. This helps bring costs down when prototyping. With a design in hand I sent it off to the folks at NOA Labs, one of their services is prototype manufacturing. I ordered 10 pcs of the design in 6061 aluminium with black anodising. For reference including shipping this design came out to around $18 a piece. Given the complexities in shape I’m pretty happy with that cost for a fully custom prototype. About a week later I had the parts were shipped and arrived a few days after that.\nThe frame was manufactured perfectly! I’m still not even sure how they managed some of the details. Some creative fixturing was probably involved. When I designed this I though the 1mm or so I had created on these bevelled edges would be tiny, but when holding it in your hands it’s quite a large edge when compared to everything else. On a second revision trying to reduce that bevel would be high on my list.\nI’ve planned to modify one of the sides manually and then secure it in place using super glue and magnets, this ended up actually working surprisingly well.\nController With the panels and the enclosure done, I was on the home stretch. I just needed to create a controller. The controller would sit inside and be powered from some batteries, so that the entire thing could be closed up and self powered. Up to this point I had been using the icrebreaker FPGA development board to control the panels. The gateware loaded makes use of the large SPRAM inside the ice40UP5K FPGA to create a framebuffer. This framebuffer is accessed by the internal multiplexing logic as well as a SPI listener. Perfect, I can easily replicate this circuit on a custom controller board, then add a more powerful microcontroller to calculate/generate frame data, then output this data over a SPI link to the gateware. I settled on the following architecture using a microchip SAMD51 processor. This chip can run at 120MHz and should have enough grunt to generate some pretty patterns.\nWith the architecture decided I created a KiCad project, I don’t have a schematic for this because I actually used python and a library called SKiDL: https://github.com/xesscorp/skidl. It was an interesting experience and I think SKiDL and textual/generative netlists could be very useful in certain designs. For example creating the matrix of LEDs and drivers would have been a perfect use of SKiDL, maybe on my next LED design… ;)\nSKiDL only replaces the schematic entry portion of a design, the routing is still handled in KiCad as usual.\nThe final puzzle piece was a battery holder. I wanted to be able to take this creation to SuperCon 5 (2019), which would involve taking this through international airport security, so unprotected RC LiPo cells were out of the equation. I ended up being able to use 2x 18650 cells fitted in diagonally, this provided around 8 hours of runtime. Although my under voltage disconnect circuit was quite fiddly with its hysteresis values. So if I removed the batteries after ~5hrs it wouldn’t turn on again, even though there was plenty of power left and no chance of damaging the cells dues to over discharge.\nThe firmware is pretty basic, but to give myself I challenge I opted to try out embedded rust. The samd51 already has a pretty complete hal/pac crate available. So it wasn’t too difficult to get a basic firmware up and running. The tricky part was adding some basic support to the crate to support the DMA peripheral in the SAMD51 to give fast and CPU free SPI data transfers.\nThe firmware embeds the ice40 bitstream which is loaded, then a timer is started at 60Hz. Every time the timer elapses a frame is generated, I’ve been experimenting with creating patterns based on the x/y position and current time being fed through sin/cosine functions and lookup tables. DMA support was very useful in order to boost performance, it’s used by both the initial bitstream loading as well as transferring data into the framebuffer of the ice40.\nConclusion Out of all 3,457 LEDs places, I only had 1 LED that I misplaced. After initially repairing it under hot-air it stopped working and needed to be repaired again. Every other LED worked perfectly.\nDownloads/Source code Want to build one for yourself? Grab all the sources here!\nIf you build one or something similar, share it with me, I’d love to see it!\n24x24 panels Cube Controller Enclosure hardware ice40 gateware samd51 firmware (rust) ","wordCount":"2069","inLanguage":"en","image":"https://gregdavill.com/posts/mini-led-cube/images/001.jpg","datePublished":"2020-06-13T21:00:00+10:30","dateModified":"2020-06-13T21:00:00+10:30","mainEntityOfPage":{"@type":"WebPage","@id":"https://gregdavill.com/posts/mini-led-cube/"},"publisher":{"@type":"Organization","name":"Greg Davill's Projects","logo":{"@type":"ImageObject","url":"https://gregdavill.com/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://gregdavill.com/ accesskey=h title="Greg Davill's Projects (Alt + H)">Greg Davill's Projects</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://gregdavill.com/archives title=Archive><span>Archive</span></a></li><li><a href=https://gregdavill.com/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://gregdavill.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://gregdavill.com/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://gregdavill.com/>Home</a>&nbsp;»&nbsp;<a href=https://gregdavill.com/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Miniature 3,456x LED Cube</h1><div class=post-meta><span title='2020-06-13 21:00:00 +1030 +1030'>June 13, 2020</span>&nbsp;·&nbsp;10 min&nbsp;|&nbsp;<a href=https://github.com/gregdavill/gregdavill.github.io/blob/main/blog-src/content/posts/mini-led-cube/index.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><figure><img srcset="/posts/mini-led-cube/images/001_hu6247307603378873172.jpg 390w,
/posts/mini-led-cube/images/001_hu18170704500588860796.jpg 800w,
/posts/mini-led-cube/images/001_hu17403830550313813677.jpg 2160w" src=/posts/mini-led-cube/images/001_hu18170704500588860796.jpg alt></figure><h2 id=background>Background<a hidden class=anchor aria-hidden=true href=#background>#</a></h2><p>Having seen a few projects creating LED cubes from panels used for LED video-walls I knew I had to try to build one myself. If you haven’t seen these before here are some examples I’ve seen. along with some notable people involved in their creation: <a href=https://twitter.com/zzaurak>@zzaurak</a>, <a href=https://twitter.com/1HappyTeddybear>@1HappyTeddybear</a>, <a href=https://twitter.com/esden>@esden</a>, <a href=https://twitter.com/kernlbob>@kernlbob</a>.</p><p>These cubes are all built using COTS video wall panels. The mains ones I’ve seen used are in the 64x64 pixel size and either 2.5mm (P2.5) or 2mm (P2) pixel pitch. These panels feature a low cost multiplexing system on the back of the PCB, and a dense array of LEDs on the front. Surprisingly these panels are made surprisingly cheap, with panels from China costing $20-$40 range, which for 4096 RGB LEDs is very cheap!</p><figure><img srcset="/posts/mini-led-cube/images/002_hu14778618688786830745.jpg 390w,
/posts/mini-led-cube/images/002_hu9159499178903168104.jpg 800w,
/posts/mini-led-cube/images/002_hu5509709904771794552.jpg 2160w" src=/posts/mini-led-cube/images/002_hu9159499178903168104.jpg alt></figure><p>Of course I had to buy some of these panels to play around with.</p><p>These panels typically arranged as a top half and bottom half. The multiplexing arrangements means there is 2 lines lit at any one instant. And they feature a control interface known as HUB75. This interface consists of the following collections of signals:</p><ul><li><p>1x 5bit bus that is used as a 1 to 32 decoder this activates a single row.</p></li><li><p>3x 2bit shift register inputs with common latch and blank signals, that is used to control data output to the column. There is one input for each colour [R,G,B] and then for the top/bottom of the display.</p></li></ul><p>These panels are multiplexed, meaning that only a single line of data is displayed at a time. To further reduce hardware costs the driver circuitry can only turn each pixel on/off. No grey-scale control in the drivers. Because of this, in order to display an image over the entire screen we need to constantly update data on the panel line by line, and rely on an effect called persistence of vision for our brain to blend these scanning lines into a solid image. In order to display greyscale values we apply a second level of modulation on top of the traditional line scanning. This modulation know as Binary Coded Modulation, or BCM, allocates time slices doubling in length to each bit in our greyscale pixel values for R,G,B. Mike Harrision has made a very detailed and informative video on this topic: <a href="https://www.youtube.com/watch?v=6iHTbGsnI8Q">https://www.youtube.com/watch?v=6iHTbGsnI8Q</a></p><p>For all my experiments I’ve used the icebreaker FPGA board: <a href=https://github.com/icebreaker-fpga/icebreaker>https://github.com/icebreaker-fpga/icebreaker</a> And RGB panel code that implements a frame buffer and the multiplexing+BCM from @tnt: <a href=https://github.com/smunaut/ice40-playground/tree/master/projects/rgb_panel>https://github.com/smunaut/ice40-playground/tree/master/projects/rgb_panel</a></p><p>With some P2.5 panels in hand I poked around with the idea of making one of these full sized cubes</p><p><figure class=img-left><img srcset="/posts/mini-led-cube/images/003_hu14806693939090682192.jpg 390w,
/posts/mini-led-cube/images/003_hu14676075264233918145.jpg 800w,
/posts/mini-led-cube/images/003_hu4201797689515512522.jpg 2160w" src=/posts/mini-led-cube/images/003_hu14676075264233918145.jpg alt></figure><figure class=img-left><img srcset="/posts/mini-led-cube/images/004_hu4396134747795548244.jpg 390w,
/posts/mini-led-cube/images/004_hu1670159510226778949.jpg 800w,
/posts/mini-led-cube/images/004_hu10793680236634013272.jpg 2160w" src=/posts/mini-led-cube/images/004_hu1670159510226778949.jpg alt></figure></p><p>I wasn’t super pleased with the overall size of this, it was simply too big. But how could we make it any smaller? Sure the P2 panels are a bit smaller, but still make a cube in the 120mm³ size. To make one smaller would require designing and manufacturing a smaller LED panel…</p><h2 id=designing-a-smaller-led-panel>Designing a smaller LED panel<a hidden class=anchor aria-hidden=true href=#designing-a-smaller-led-panel>#</a></h2><p>So that is basically what I did. It turns out you can buy the LED used on these panels for very cheap from LCSC at around 2c per LED when you’re buying them in the 2000+ qty. (Full reels are 13,000 LEDs. and you can probably get them down to around 1c when buying multiple reels from Alibaba, or direct in Chinese markets) Additionally the shift registers used in the multiplexing control electronics are also very low cost. There is already some very useful information and documentation about existing LED panel designs: <a href=https://github.com/esden/led-panel-docs>https://github.com/esden/led-panel-docs</a></p><p>With a schematic of one of these larger panels in hand, I created a schematic for my own smaller 24x24 panel. The actual architectural design of this panel is a bit awkward, since there are 2 shift register chains for rows and columns, one 32bits in length, the other is only 24bits. That is handled in gateware, but is a bit awkward.</p><p><figure class=img-left><img srcset="/posts/mini-led-cube/images/042_hu1050386779662972492.png 390w,
/posts/mini-led-cube/images/042_hu7367742085723148075.png 800w,
/posts/mini-led-cube/images/042_hu7121497663224241106.png 2160w" src=/posts/mini-led-cube/images/042_hu7367742085723148075.png alt></figure><figure class=img-left><img srcset="/posts/mini-led-cube/images/019_hu4793576084415622688.png 390w,
/posts/mini-led-cube/images/019_hu4736816070847339178.png 800w,
/posts/mini-led-cube/images/019_hu3490169062674185839.png 2160w" src=/posts/mini-led-cube/images/019_hu4736816070847339178.png alt></figure></p><hr><p><figure class=img-left><img srcset="/posts/mini-led-cube/images/036_hu468041813277410555.png 390w,
/posts/mini-led-cube/images/036_hu1248497160807801573.png 800w,
/posts/mini-led-cube/images/036_hu1791141567669252992.png 2160w" src=/posts/mini-led-cube/images/036_hu1248497160807801573.png alt></figure><figure class=img-left><img srcset="/posts/mini-led-cube/images/037_hu13849101151985473596.png 390w,
/posts/mini-led-cube/images/037_hu222840111110150962.png 800w,
/posts/mini-led-cube/images/037_hu5487765016699893926.png 2160w" src=/posts/mini-led-cube/images/037_hu222840111110150962.png alt></figure><figure class=img-left><img srcset="/posts/mini-led-cube/images/038_hu11974956114566688984.png 390w,
/posts/mini-led-cube/images/038_hu6797444335706855505.png 800w,
/posts/mini-led-cube/images/038_hu4465668897902250085.png 2160w" src=/posts/mini-led-cube/images/038_hu6797444335706855505.png alt></figure><figure class=img-left><img srcset="/posts/mini-led-cube/images/039_hu10556920744160582727.png 390w,
/posts/mini-led-cube/images/039_hu714034680797157773.png 800w,
/posts/mini-led-cube/images/039_hu3237852255504748173.png 2160w" src=/posts/mini-led-cube/images/039_hu714034680797157773.png alt></figure></p><p>I tried to make use of hierarchical sheets in KiCad to ensure that the design remained somewhat reasonable. I think I managed a reasonable job, but there are still a lot of global labels around. It’s not easy neatly creating a schematic connection 576 LEDs.</p><p>PCB layout was actually not too tricky and I even had a little fun with some artwork on the back.(Which you never see when it is fully assembled.)</p><p><figure class=img-left><img srcset="/posts/mini-led-cube/images/040_hu5137432854679644098.png 390w,
/posts/mini-led-cube/images/040_hu8532992665611724503.png 800w,
/posts/mini-led-cube/images/040_hu2004032484295061824.png 2160w" src=/posts/mini-led-cube/images/040_hu8532992665611724503.png alt></figure><figure class=img-left><img srcset="/posts/mini-led-cube/images/041_hu18237650584777731269.png 390w,
/posts/mini-led-cube/images/041_hu770449986000585445.png 800w,
/posts/mini-led-cube/images/041_hu17009286545168232003.png 2160w" src=/posts/mini-led-cube/images/041_hu770449986000585445.png alt></figure></p><p>To ease routing I went with a 4 layer design. Every LED on the top has signals routed through for all the common R,G,B signals, these are for the columns and run downwards. Every LED has a common connection which requires a via and connection on layer 2 connection every row together. Because we want to use a cheap PCB manufacturer, and avoid micro/blind vias, we need to arrange the routing on the top layer to give room for an additional via next to every LED, we’ll use this to route signals from our controllers to the matrix, and also route signals required for the controllers around on layers 3-4.</p><p>It was quite an interesting routing challenge, but with some careful planning and heavy use of the array tool it’s not too difficult.</p><p>One thing that was essential was scripting in Kicad to move every led into its correct matrix position. This was achieved using the internal pythin scripting in KiCad and the following script: <a href=https://github.com/gregdavill/GlassUnicorn/blob/master/ref/led_32x32_array_place.py>https://github.com/gregdavill/GlassUnicorn/blob/master/ref/led_32x32_array_place.py</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span><span style=color:#75715e># To run, open the KiCad scripting console and type: exec(open(&#39;../../ref/led_32x32_array_place.py&#39;).read())</span>
</span></span><span style=display:flex><span><span style=color:#75715e># </span>
</span></span><span style=display:flex><span><span style=color:#75715e># This script will re-position D[1-1024] into a matrix filling the specified width and height, at the location provided below.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># After running you will have to press F11/F12 to force the screen to re-render.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> sys
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> pcbnew <span style=color:#f92672>import</span> <span style=color:#f92672>*</span>
</span></span><span style=display:flex><span>pcb <span style=color:#f92672>=</span> GetBoard()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>initialX <span style=color:#f92672>=</span> FromMM(<span style=color:#ae81ff>120.75</span>)
</span></span><span style=display:flex><span>initialY <span style=color:#f92672>=</span> FromMM(<span style=color:#ae81ff>70.75</span>)
</span></span><span style=display:flex><span>width <span style=color:#f92672>=</span> FromMM(<span style=color:#ae81ff>61</span>)
</span></span><span style=display:flex><span>height <span style=color:#f92672>=</span> FromMM(<span style=color:#ae81ff>61</span>)
</span></span><span style=display:flex><span>padding <span style=color:#f92672>=</span> FromMM(<span style=color:#ae81ff>1.1</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>count <span style=color:#f92672>=</span> <span style=color:#ae81ff>32</span>
</span></span><span style=display:flex><span>spacingX <span style=color:#f92672>=</span> (width <span style=color:#f92672>-</span> (padding<span style=color:#f92672>*</span><span style=color:#ae81ff>2</span>)) <span style=color:#f92672>/</span> (count <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>spacingY <span style=color:#f92672>=</span> (height <span style=color:#f92672>-</span> (padding<span style=color:#f92672>*</span><span style=color:#ae81ff>2</span>)) <span style=color:#f92672>/</span> (count <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#39;Spacing X,Y = &#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>nCount <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>&#39;Start Place&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> y <span style=color:#f92672>in</span> range(count):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> x <span style=color:#f92672>in</span> range(count):
</span></span><span style=display:flex><span>        Ref <span style=color:#f92672>=</span> <span style=color:#e6db74>f</span><span style=color:#e6db74>&#39;D&#39;</span>
</span></span><span style=display:flex><span>        nCount <span style=color:#f92672>=</span> nCount <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>#print(Ref)</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>            nPart <span style=color:#f92672>=</span> pcb<span style=color:#f92672>.</span>FindModuleByReference(Ref)
</span></span><span style=display:flex><span>            nPart<span style=color:#f92672>.</span>SetPosition(wxPoint(initialX <span style=color:#f92672>+</span> padding <span style=color:#f92672>+</span> (x<span style=color:#f92672>*</span>spacingX), (initialY <span style=color:#f92672>+</span> padding <span style=color:#f92672>+</span> y<span style=color:#f92672>*</span>spacingY)))  <span style=color:#75715e># Update XY</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>except</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>&#39;Finished Place&#39;</span>)
</span></span></code></pre></div><h2 id=assembly-hand-placing-thousands-of-leds>Assembly (Hand placing thousands of LEDs)<a hidden class=anchor aria-hidden=true href=#assembly-hand-placing-thousands-of-leds>#</a></h2><p>I had JLC sponsor the panel PCBs used in this project. So check them out if you’re after prototype PCB. I got the boards made in matte black with ENIG. Black PCBs really help on the LED side to hide the gaps between the pixels. ENIG provides a flat solderable plating to the pads making solderpaste and reflow soldering a little bit easier compared to HASL plating which sometimes results in SMD pads having a small ‘pillow’ of solder. Also in my opinion ENIG alss just looks better.</p><p><figure class=img-left><img srcset="/posts/mini-led-cube/images/005_hu6130658701322741936.jpg 390w,
/posts/mini-led-cube/images/005_hu11059166462752221461.jpg 800w,
/posts/mini-led-cube/images/005_hu12542609319091078962.jpg 2160w" src=/posts/mini-led-cube/images/005_hu11059166462752221461.jpg alt></figure><figure class=img-left><img srcset="/posts/mini-led-cube/images/006_hu7139284134356071928.jpg 390w,
/posts/mini-led-cube/images/006_hu15796034524674828539.jpg 800w,
/posts/mini-led-cube/images/006_hu2492473698752550102.jpg 2160w" src=/posts/mini-led-cube/images/006_hu15796034524674828539.jpg alt></figure><figure class=img-left><img srcset="/posts/mini-led-cube/images/007_hu15816222372934887219.jpg 390w,
/posts/mini-led-cube/images/007_hu6538513745349439605.jpg 800w,
/posts/mini-led-cube/images/007_hu2883467975227466558.jpg 2160w" src=/posts/mini-led-cube/images/007_hu6538513745349439605.jpg alt></figure><figure class=img-left><img srcset="/posts/mini-led-cube/images/008_hu1518428688121846409.jpg 390w,
/posts/mini-led-cube/images/008_hu18039632603984736171.jpg 800w,
/posts/mini-led-cube/images/008_hu3264686299580781815.jpg 2160w" src=/posts/mini-led-cube/images/008_hu18039632603984736171.jpg alt></figure><figure class=img-left><img srcset="/posts/mini-led-cube/images/009_hu10310204170156649128.jpg 390w,
/posts/mini-led-cube/images/009_hu3335109281196207886.jpg 800w,
/posts/mini-led-cube/images/009_hu6384038711099719538.jpg 2160w" src=/posts/mini-led-cube/images/009_hu3335109281196207886.jpg alt></figure><figure class=img-left><img srcset="/posts/mini-led-cube/images/025_hu15840796147837569170.jpg 390w,
/posts/mini-led-cube/images/025_hu10134302576075342620.jpg 800w,
/posts/mini-led-cube/images/025_hu6914551066822641801.jpg 2160w" src=/posts/mini-led-cube/images/025_hu10134302576075342620.jpg alt></figure></p><p>I used a stainless steel stencil and solderpaste on these boards. I didn’t want to subject the LEDs to 2 reflow cycles so I applied solderpaste and placed the controller side components first and reflowed it in my toaster oven. Then applied paste to the LED side and placed all 576 LEDs per panel. 6 in total, for 3,456 LEDs hand placed. For those interested each panel took around 2 hours to place the LEDs. I used a simple vacuum pickup tool I built for moving the LEDs from their tape into position. Having a good audio book helped here!</p><p><figure class=img-left><img srcset="/posts/mini-led-cube/images/010_hu17396323249732105118.jpg 390w,
/posts/mini-led-cube/images/010_hu14297787334370493385.jpg 800w,
/posts/mini-led-cube/images/010_hu18080494684607309331.jpg 2160w" src=/posts/mini-led-cube/images/010_hu14297787334370493385.jpg alt></figure><figure class=img-left><img srcset="/posts/mini-led-cube/images/011_hu13795635797332661203.jpg 390w,
/posts/mini-led-cube/images/011_hu13098938842689360150.jpg 800w,
/posts/mini-led-cube/images/011_hu6932645410616430498.jpg 2160w" src=/posts/mini-led-cube/images/011_hu13098938842689360150.jpg alt></figure><figure class=img-left><img srcset="/posts/mini-led-cube/images/016_hu10380523399859922797.jpg 390w,
/posts/mini-led-cube/images/016_hu739472751294826588.jpg 800w,
/posts/mini-led-cube/images/016_hu8069692895814125582.jpg 2160w" src=/posts/mini-led-cube/images/016_hu739472751294826588.jpg alt></figure><figure class=img-left><img srcset="/posts/mini-led-cube/images/013_hu13842324508029440988.jpg 390w,
/posts/mini-led-cube/images/013_hu9146146565014615626.jpg 800w,
/posts/mini-led-cube/images/013_hu4561278528920931314.jpg 2160w" src=/posts/mini-led-cube/images/013_hu9146146565014615626.jpg alt></figure><figure class=img-left><img srcset="/posts/mini-led-cube/images/024_hu2014241056452088757.jpg 390w,
/posts/mini-led-cube/images/024_hu18259039661406828607.jpg 800w,
/posts/mini-led-cube/images/024_hu10102704339996544796.jpg 2160w" src=/posts/mini-led-cube/images/024_hu18259039661406828607.jpg alt></figure><figure class=img-left><img srcset="/posts/mini-led-cube/images/012_hu10563942055057217738.jpg 390w,
/posts/mini-led-cube/images/012_hu12539099209314608549.jpg 800w,
/posts/mini-led-cube/images/012_hu9446612337549595036.jpg 2160w" src=/posts/mini-led-cube/images/012_hu12539099209314608549.jpg alt></figure></p><p>With panels designed and assembled I just need a controller and an enclosure to complete the LED Cube</p><figure><img srcset="/posts/mini-led-cube/images/029_hu7052835385024535332.jpg 390w,
/posts/mini-led-cube/images/029_hu15134274065854826234.jpg 800w,
/posts/mini-led-cube/images/029_hu17210086191040629604.jpg 2160w" src=/posts/mini-led-cube/images/029_hu15134274065854826234.jpg alt></figure><h2 id=enclosure-design>Enclosure Design<a hidden class=anchor aria-hidden=true href=#enclosure-design>#</a></h2><p>I decided I wanted to design a frame for this cube that would be made from CNC aluminium. I knew straight off the bat that my FDM printer would not be up this task, the parts will need to be very detailed and reasonably tight tolerances, and simply not suited to FDM 3d printing. After some time in Fusion 360 I had this basic design.</p><figure><img srcset="/posts/mini-led-cube/images/021_hu2323582360416674147.png 390w,
/posts/mini-led-cube/images/021_hu8051942827536858590.png 800w,
/posts/mini-led-cube/images/021_hu8185861694786103619.png 2160w" src=/posts/mini-led-cube/images/021_hu8051942827536858590.png alt></figure><p>This design has the nice property that 6 identical pieces will fit together to create a full cube. This helps bring costs down when prototyping. With a design in hand I sent it off to the folks at NOA Labs, one of their services is prototype manufacturing. I ordered 10 pcs of the design in 6061 aluminium with black anodising. For reference including shipping this design came out to around $18 a piece. Given the complexities in shape I’m pretty happy with that cost for a fully custom prototype. About a week later I had the parts were shipped and arrived a few days after that.</p><p><figure><img srcset="/posts/mini-led-cube/images/027_hu1924022059484764778.jpg 390w,
/posts/mini-led-cube/images/027_hu9939277713869900245.jpg 800w,
/posts/mini-led-cube/images/027_hu11352004080820570685.jpg 2160w" src=/posts/mini-led-cube/images/027_hu9939277713869900245.jpg alt></figure><figure class=img-left><img srcset="/posts/mini-led-cube/images/026_hu10763356858207870452.jpg 390w,
/posts/mini-led-cube/images/026_hu4276206766153291772.jpg 800w,
/posts/mini-led-cube/images/026_hu5616881913220483883.jpg 2160w" src=/posts/mini-led-cube/images/026_hu4276206766153291772.jpg alt></figure><figure class=img-left><img srcset="/posts/mini-led-cube/images/023_hu2364423757077354391.jpg 390w,
/posts/mini-led-cube/images/023_hu3453557040736691991.jpg 800w,
/posts/mini-led-cube/images/023_hu6636896904833718918.jpg 2160w" src=/posts/mini-led-cube/images/023_hu3453557040736691991.jpg alt></figure><figure class=img-left><img srcset="/posts/mini-led-cube/images/014_hu5750721155526657255.jpg 390w,
/posts/mini-led-cube/images/014_hu7349262242717874083.jpg 800w,
/posts/mini-led-cube/images/014_hu15437883836839434321.jpg 2160w" src=/posts/mini-led-cube/images/014_hu7349262242717874083.jpg alt></figure><figure class=img-left><img srcset="/posts/mini-led-cube/images/015_hu15455952887528830631.jpg 390w,
/posts/mini-led-cube/images/015_hu5407974317565598895.jpg 800w,
/posts/mini-led-cube/images/015_hu12664519467098772043.jpg 2160w" src=/posts/mini-led-cube/images/015_hu5407974317565598895.jpg alt></figure></p><p>The frame was manufactured perfectly! I’m still not even sure how they managed some of the details. Some creative fixturing was probably involved. When I designed this I though the 1mm or so I had created on these bevelled edges would be tiny, but when holding it in your hands it’s quite a large edge when compared to everything else. On a second revision trying to reduce that bevel would be high on my list.</p><p>I’ve planned to modify one of the sides manually and then secure it in place using super glue and magnets, this ended up actually working surprisingly well.</p><figure><img srcset="/posts/mini-led-cube/images/028_hu17057536886808933732.jpg 390w,
/posts/mini-led-cube/images/028_hu11514827998225815691.jpg 800w,
/posts/mini-led-cube/images/028_hu12592407686919265958.jpg 2160w" src=/posts/mini-led-cube/images/028_hu11514827998225815691.jpg alt></figure><h2 id=controller>Controller<a hidden class=anchor aria-hidden=true href=#controller>#</a></h2><p>With the panels and the enclosure done, I was on the home stretch. I just needed to create a controller. The controller would sit inside and be powered from some batteries, so that the entire thing could be closed up and self powered. Up to this point I had been using the icrebreaker FPGA development board to control the panels. The gateware loaded makes use of the large SPRAM inside the ice40UP5K FPGA to create a framebuffer. This framebuffer is accessed by the internal multiplexing logic as well as a SPI listener. Perfect, I can easily replicate this circuit on a custom controller board, then add a more powerful microcontroller to calculate/generate frame data, then output this data over a SPI link to the gateware. I settled on the following architecture using a microchip SAMD51 processor. This chip can run at 120MHz and should have enough grunt to generate some pretty patterns.</p><p><figure><img srcset="/posts/mini-led-cube/images/020_hu5165798757364617129.png 390w,
/posts/mini-led-cube/images/020_hu11102874379326387194.png 800w,
/posts/mini-led-cube/images/020_hu7755176136712126075.png 2160w" src=/posts/mini-led-cube/images/020_hu11102874379326387194.png alt></figure><figure><img srcset="/posts/mini-led-cube/images/018_hu13994389483356582852.jpg 390w,
/posts/mini-led-cube/images/018_hu4626987974324740333.jpg 800w,
/posts/mini-led-cube/images/018_hu8826702343292700759.jpg 2160w" src=/posts/mini-led-cube/images/018_hu4626987974324740333.jpg alt></figure></p><p>With the architecture decided I created a KiCad project, I don’t have a schematic for this because I actually used python and a library called SKiDL: <a href=https://github.com/xesscorp/skidl>https://github.com/xesscorp/skidl</a>. It was an interesting experience and I think SKiDL and textual/generative netlists could be very useful in certain designs. For example creating the matrix of LEDs and drivers would have been a perfect use of SKiDL, maybe on my next LED design… ;)</p><p>SKiDL only replaces the schematic entry portion of a design, the routing is still handled in KiCad as usual.</p><p>The final puzzle piece was a battery holder. I wanted to be able to take this creation to SuperCon 5 (2019), which would involve taking this through international airport security, so unprotected RC LiPo cells were out of the equation. I ended up being able to use 2x 18650 cells fitted in diagonally, this provided around 8 hours of runtime. Although my under voltage disconnect circuit was quite fiddly with its hysteresis values. So if I removed the batteries after ~5hrs it wouldn’t turn on again, even though there was plenty of power left and no chance of damaging the cells dues to over discharge.</p><p><figure><img srcset="/posts/mini-led-cube/images/017_hu16963700649218423735.jpg 390w,
/posts/mini-led-cube/images/017_hu9165714472908740167.jpg 800w,
/posts/mini-led-cube/images/017_hu9283813269402353925.jpg 2160w" src=/posts/mini-led-cube/images/017_hu9165714472908740167.jpg alt></figure><figure><img srcset="/posts/mini-led-cube/images/022_hu1023004708249205558.jpg 390w,
/posts/mini-led-cube/images/022_hu3322944829461556046.jpg 800w,
/posts/mini-led-cube/images/022_hu11063825820146055827.jpg 2160w" src=/posts/mini-led-cube/images/022_hu3322944829461556046.jpg alt></figure></p><p>The firmware is pretty basic, but to give myself I challenge I opted to try out embedded rust. The samd51 already has a pretty complete hal/pac crate available. So it wasn’t too difficult to get a basic firmware up and running. The tricky part was adding some basic support to the crate to support the DMA peripheral in the SAMD51 to give fast and CPU free SPI data transfers.</p><p>The firmware embeds the ice40 bitstream which is loaded, then a timer is started at 60Hz. Every time the timer elapses a frame is generated, I’ve been experimenting with creating patterns based on the x/y position and current time being fed through sin/cosine functions and lookup tables. DMA support was very useful in order to boost performance, it’s used by both the initial bitstream loading as well as transferring data into the framebuffer of the ice40.</p><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p><figure class=img-left><img srcset="/posts/mini-led-cube/images/031_hu14220552416289778947.jpg 390w,
/posts/mini-led-cube/images/031_hu7398695901345618992.jpg 800w,
/posts/mini-led-cube/images/031_hu12061474892096032135.jpg 2160w" src=/posts/mini-led-cube/images/031_hu7398695901345618992.jpg alt></figure><figure class=img-left><img srcset="/posts/mini-led-cube/images/032_hu6799690332966096808.jpg 390w,
/posts/mini-led-cube/images/032_hu2114299043943212374.jpg 800w,
/posts/mini-led-cube/images/032_hu9532948235473412945.jpg 2160w" src=/posts/mini-led-cube/images/032_hu2114299043943212374.jpg alt></figure><figure class=img-left><img srcset="/posts/mini-led-cube/images/001_hu6247307603378873172.jpg 390w,
/posts/mini-led-cube/images/001_hu18170704500588860796.jpg 800w,
/posts/mini-led-cube/images/001_hu17403830550313813677.jpg 2160w" src=/posts/mini-led-cube/images/001_hu18170704500588860796.jpg alt></figure><figure class=img-left><img srcset="/posts/mini-led-cube/images/034_hu5680310011486368254.jpg 390w,
/posts/mini-led-cube/images/034_hu6997980501623866151.jpg 800w,
/posts/mini-led-cube/images/034_hu17924921811270558518.jpg 2160w" src=/posts/mini-led-cube/images/034_hu6997980501623866151.jpg alt></figure><figure><img srcset="/posts/mini-led-cube/images/035_hu8432415563063128048.jpg 390w,
/posts/mini-led-cube/images/035_hu10812318934335009212.jpg 800w,
/posts/mini-led-cube/images/035_hu14691700812555399857.jpg 2160w" src=/posts/mini-led-cube/images/035_hu10812318934335009212.jpg alt></figure></p><p>Out of all 3,457 LEDs places, I only had 1 LED that I misplaced. After initially repairing it under hot-air it stopped working and needed to be repaired again. Every other LED worked perfectly.</p><p><figure><img srcset="/posts/mini-led-cube/images/030_hu15399560005264034403.jpg 390w,
/posts/mini-led-cube/images/030_hu16349115798688150735.jpg 800w,
/posts/mini-led-cube/images/030_hu2960194156237112837.jpg 2160w" src=/posts/mini-led-cube/images/030_hu16349115798688150735.jpg alt></figure><figure><img srcset="/posts/mini-led-cube/images/033_hu14976717891900420380.jpg 390w,
/posts/mini-led-cube/images/033_hu12666125823580497093.jpg 800w,
/posts/mini-led-cube/images/033_hu6400001742966312778.jpg 2160w" src=/posts/mini-led-cube/images/033_hu12666125823580497093.jpg alt></figure></p><h2 id=downloadssource-code>Downloads/Source code<a hidden class=anchor aria-hidden=true href=#downloadssource-code>#</a></h2><p>Want to build one for yourself? Grab all the sources here!</p><p>If you build one or something similar, share it with me, I’d love to see it!</p><ul><li><a href=https://github.com/gregdavill/GlassUnicorn/tree/master/hardware/panel_r0.1>24x24 panels</a></li><li><a href=https://github.com/gregdavill/GlassUnicorn/tree/master/hardware/cube-controller>Cube Controller</a></li><li><a href=https://github.com/gregdavill/GlassUnicorn/tree/master/hardware/cube_r0.1>Enclosure hardware</a></li><li><a href=https://github.com/gregdavill/ice40-playground/tree/GlassUnicorn_24x24/projects/rgb_panel>ice40 gateware</a></li><li><a href=https://github.com/gregdavill/atsamd/tree/d20-controller/boards/d20controller>samd51 firmware (rust)</a></li></ul></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://gregdavill.com/posts/d20/><span class=title>« Prev</span><br><span>2,400 LED icosahedron (20 sided)</span>
</a><a class=next href=https://gregdavill.com/posts/boson-frame-grabber-pt5/><span class=title>Next »</span><br><span>Boson Frame Grabber Part 5</span></a></nav></footer><div id=hyvor-talk-view></div><script type=text/javascript>dark_palette={accent:"#ffffff",accentText:"#000000",footerHeader:"#1b1818",footerHeaderText:"#cac7c7",box:"#232121",boxText:"#ffffff",boxLightText:"#aaaaaa",backgroundText:"#ffffff"},light_palette={accent:"#659DBD",accentText:"#FFFFFF",footerHeader:"#FAFAFA",footerHeaderText:"#484848",box:"#FFFFFF",boxText:"#111111",boxLightText:"#AAAAAA",backgroundText:"#111111"};var HYVOR_TALK_WEBSITE,HYVOR_TALK_CONFIG,palette=light_palette;document.body.className.includes("dark")&&(palette=dark_palette),HYVOR_TALK_WEBSITE=5683,HYVOR_TALK_CONFIG={url:!1,id:"e6a6867f1ae2be42905d614fbfd77bc6",palette},document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?hyvor_talk.setPalette(light_palette):hyvor_talk.setPalette(dark_palette)})</script><script async type=text/javascript src=//talk.hyvor.com/web-api/embed.js></script></article></main><footer class=footer><span>&copy; 2024 <a href=https://gregdavill.com/>Greg Davill's Projects</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><script>light_bg="rgb(255, 255, 255)",dark_bg="rgb(29, 30, 32)";var palette_bg=light_bg;document.body.className.includes("dark")&&(palette_bg=dark_bg),document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?palette_bg=light_bg:palette_bg=dark_bg;const e=Array.from(document.querySelectorAll(".post-content img"));e.forEach(e=>{mediumZoom(e,{margin:0,background:palette_bg,scrollOffset:40,container:null,template:null})})});const images=Array.from(document.querySelectorAll(".post-content img"));images.forEach(e=>{mediumZoom(e,{margin:0,background:palette_bg,scrollOffset:40,container:null,template:null})})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>